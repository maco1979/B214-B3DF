{
  "version": "1",
  "services": {
    "frontend": {
      "name": "ai-project-frontend",
      "type": "web",
      "path": "./frontend",
      "build": {
        "command": "npm run build",
        "outputDir": "dist",
        "install": "npm install"
      },
      "ports": [
        {
          "port": 3000,
          "public": true
        }
      ],
      "env": {
        "VITE_API_URL": "http://ai-project-backend:8001",
        "VITE_DECISION_SERVICE_URL": "http://ai-decision-service:8001"
      },
      "dependencies": ["backend", "decision-service"]
    },
    "backend": {
      "name": "ai-project-backend",
      "type": "web",
      "path": "./backend",
      "build": {
        "command": "python src/main.py",
        "outputDir": ".",
        "install": "pip install -r requirements.txt"
      },
      "ports": [
        {
          "port": 8001,
          "public": true
        }
      ],
      "env": {
        "API_HOST": "0.0.0.0",
        "API_PORT": 8001,
        "DECISION_SERVICE_URL": "http://ai-decision-service:8001"
      },
      "dependencies": ["decision-service"]
    },
    "decision-service": {
      "name": "ai-decision-service",
      "type": "web",
      "path": "./decision-service",
      "build": {
        "command": "python src/main.py",
        "outputDir": ".",
        "install": "pip install -r requirements.txt"
      },
      "ports": [
        {
          "port": 8001,
          "public": true
        }
      ],
      "env": {
        "API_HOST": "0.0.0.0",
        "API_PORT": 8001
      }
    }
  }
}