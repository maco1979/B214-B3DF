{"version":3,"file":"FederatedLearning-chE5ANv_.js","sources":["../../src/pages/FederatedLearning.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { \r\n  Users, \r\n  Cpu, \r\n  Database, \r\n  Shield, \r\n  TrendingUp,\r\n  Play,\r\n  Pause,\r\n  RefreshCw,\r\n  Plus,\r\n  Settings,\r\n  BarChart3,\r\n  Clock\r\n} from 'lucide-react'\r\nimport { apiClient } from '@/services/api'\r\n\r\ninterface FederatedClient {\r\n  client_id: string\r\n  info: any\r\n  registered_at: string\r\n  status: string\r\n}\r\n\r\ninterface TrainingRound {\r\n  round_id: string\r\n  start_time: string\r\n  status: string\r\n  participants: string[]\r\n  participants_count?: number\r\n}\r\n\r\ninterface PrivacyStatus {\r\n  enabled: boolean\r\n  epsilon: number\r\n  delta: number\r\n  privacy_spent: any\r\n  rounds_with_privacy: number\r\n}\r\n\r\nexport function FederatedLearning() {\r\n  const [clients, setClients] = useState<FederatedClient[]>([])\r\n  const [rounds, setRounds] = useState<TrainingRound[]>([])\r\n  const [privacyStatus, setPrivacyStatus] = useState<PrivacyStatus | null>(null)\r\n  const [serverStatus, setServerStatus] = useState<any>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [newClientId, setNewClientId] = useState('')\r\n  const [roundConfig, setRoundConfig] = useState({\r\n    client_fraction: 0.5,\r\n    learning_rate: 0.01,\r\n    epochs: 10\r\n  })\r\n\r\n  const fetchFederatedData = async () => {\r\n    try {\r\n      setLoading(true)\r\n      \r\n      const [clientsRes, roundsRes, privacyRes, statusRes] = await Promise.all([\r\n        apiClient.getFederatedClients(),\r\n        apiClient.getFederatedRounds(),\r\n        apiClient.getFederatedPrivacyStatus(),\r\n        apiClient.getFederatedStatus()\r\n      ])\r\n\r\n      if (clientsRes.success) setClients(Array.isArray(clientsRes.data) ? clientsRes.data : [])\r\n      if (roundsRes.success) setRounds(Array.isArray(roundsRes.data) ? roundsRes.data : [])\r\n      if (privacyRes.success) setPrivacyStatus(privacyRes.data)\r\n      if (statusRes.success) setServerStatus(statusRes.data)\r\n    } catch (error) {\r\n      console.error('获取联邦学习数据失败:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchFederatedData()\r\n  }, [])\r\n\r\n  const registerClient = async () => {\r\n    if (!newClientId.trim()) return\r\n\r\n    try {\r\n      const response = await apiClient.registerFederatedClient({\r\n        client_id: newClientId,\r\n        device_type: 'edge_device',\r\n        capabilities: ['training', 'inference']\r\n      })\r\n\r\n      if (response.success) {\r\n        setNewClientId('')\r\n        fetchFederatedData()\r\n      }\r\n    } catch (error) {\r\n      console.error('注册客户端失败:', error)\r\n    }\r\n  }\r\n\r\n  const startTrainingRound = async () => {\r\n    try {\r\n      const response = await apiClient.startFederatedRound(roundConfig)\r\n      \r\n      if (response.success) {\r\n        fetchFederatedData()\r\n      }\r\n    } catch (error) {\r\n      console.error('启动训练轮次失败:', error)\r\n    }\r\n  }\r\n\r\n  const aggregateRound = async (roundId: string) => {\r\n    try {\r\n      const response = await apiClient.aggregateFederatedRound(roundId)\r\n      \r\n      if (response.success) {\r\n        fetchFederatedData()\r\n      }\r\n    } catch (error) {\r\n      console.error('聚合轮次失败:', error)\r\n    }\r\n  }\r\n\r\n  const updatePrivacyConfig = async (config: any) => {\r\n    try {\r\n      const response = await apiClient.updateFederatedPrivacyConfig(config)\r\n      \r\n      if (response.success) {\r\n        fetchFederatedData()\r\n      }\r\n    } catch (error) {\r\n      console.error('更新隐私配置失败:', error)\r\n    }\r\n  }\r\n\r\n  const stats = [\r\n    {\r\n      label: '注册客户端',\r\n      value: serverStatus?.total_clients || 0,\r\n      icon: Users,\r\n      color: 'text-blue-400',\r\n      change: `活跃: ${serverStatus?.active_clients || 0}`\r\n    },\r\n    {\r\n      label: '完成轮次',\r\n      value: serverStatus?.rounds_completed || 0,\r\n      icon: TrendingUp,\r\n      color: 'text-green-400',\r\n      change: '持续训练中'\r\n    },\r\n    {\r\n      label: '隐私保护',\r\n      value: privacyStatus?.enabled ? '启用' : '禁用',\r\n      icon: Shield,\r\n      color: 'text-purple-400',\r\n      change: `ε=${privacyStatus?.epsilon || 0}`\r\n    },\r\n    {\r\n      label: '当前轮次',\r\n      value: serverStatus?.current_round ? '进行中' : '未开始',\r\n      icon: Cpu,\r\n      color: 'text-yellow-400',\r\n      change: serverStatus?.current_round?.participants_count ? `${serverStatus.current_round.participants_count}客户端` : '--'\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* 页面标题和操作 */}\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold gradient-text mb-2\">联邦学习系统</h1>\r\n          <p className=\"text-gray-300\">分布式AI训练，保护数据隐私，实现协同学习</p>\r\n        </div>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <Button \r\n            variant=\"outline\" \r\n            onClick={fetchFederatedData}\r\n            disabled={loading}\r\n            className=\"flex items-center space-x-2\"\r\n          >\r\n            <RefreshCw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />\r\n            <span>刷新</span>\r\n          </Button>\r\n          <Button variant=\"tech\" className=\"flex items-center space-x-2\">\r\n            <Settings className=\"w-4 h-4\" />\r\n            <span>系统设置</span>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 统计卡片 */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {stats.map((stat, index) => {\r\n          const Icon = stat.icon\r\n          return (\r\n            <Card key={index} className=\"glass-effect hover:neon-glow transition-all duration-300\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium text-gray-400\">\r\n                  {stat.label}\r\n                </CardTitle>\r\n                <Icon className={`w-4 h-4 ${stat.color}`} />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-white\">{stat.value}</div>\r\n                <p className=\"text-xs text-gray-400 mt-1\">{stat.change}</p>\r\n              </CardContent>\r\n            </Card>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* 客户端管理 */}\r\n        <Card className=\"glass-effect\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Users className=\"w-5 h-5 text-tech-primary\" />\r\n                <span>客户端管理</span>\r\n              </div>\r\n              <span className=\"text-sm text-gray-400\">{clients.length} 客户端</span>\r\n            </CardTitle>\r\n            <CardDescription>注册和管理联邦学习客户端</CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {/* 注册新客户端 */}\r\n            <div className=\"flex space-x-2\">\r\n              <Input\r\n                placeholder=\"输入客户端ID\"\r\n                value={newClientId}\r\n                onChange={(e) => setNewClientId(e.target.value)}\r\n                className=\"flex-1\"\r\n              />\r\n              <Button \r\n                variant=\"tech\" \r\n                onClick={registerClient}\r\n                disabled={!newClientId.trim()}\r\n                className=\"flex items-center space-x-2\"\r\n              >\r\n                <Plus className=\"w-4 h-4\" />\r\n                <span>注册</span>\r\n              </Button>\r\n            </div>\r\n\r\n            {/* 客户端列表 */}\r\n            <div className=\"space-y-2 max-h-60 overflow-y-auto\">\r\n              {clients.map((client) => (\r\n                <div key={client.client_id} className=\"flex items-center justify-between p-2 bg-tech-dark/30 rounded\">\r\n                  <div>\r\n                    <div className=\"font-medium text-white\">{client.client_id}</div>\r\n                    <div className=\"text-xs text-gray-400\">\r\n                      注册时间: {new Date(client.registered_at).toLocaleDateString()}\r\n                    </div>\r\n                  </div>\r\n                  <div className={`text-xs px-2 py-1 rounded ${\r\n                    client.status === 'active' \r\n                      ? 'bg-green-500/20 text-green-400' \r\n                      : 'bg-gray-500/20 text-gray-400'\r\n                  }`}>\r\n                    {client.status === 'active' ? '活跃' : '离线'}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* 训练轮次控制 */}\r\n        <Card className=\"glass-effect\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center space-x-2\">\r\n              <Cpu className=\"w-5 h-5 text-tech-primary\" />\r\n              <span>训练控制</span>\r\n            </CardTitle>\r\n            <CardDescription>配置和启动联邦学习轮次</CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-3 gap-2\">\r\n              <div>\r\n                <label className=\"text-sm text-gray-400\">客户端比例</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"0.1\"\r\n                  max=\"1.0\"\r\n                  step=\"0.1\"\r\n                  value={roundConfig.client_fraction}\r\n                  onChange={(e) => setRoundConfig({\r\n                    ...roundConfig,\r\n                    client_fraction: parseFloat(e.target.value)\r\n                  })}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm text-gray-400\">学习率</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"0.001\"\r\n                  max=\"0.1\"\r\n                  step=\"0.001\"\r\n                  value={roundConfig.learning_rate}\r\n                  onChange={(e) => setRoundConfig({\r\n                    ...roundConfig,\r\n                    learning_rate: parseFloat(e.target.value)\r\n                  })}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm text-gray-400\">训练轮数</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"100\"\r\n                  value={roundConfig.epochs}\r\n                  onChange={(e) => setRoundConfig({\r\n                    ...roundConfig,\r\n                    epochs: parseInt(e.target.value)\r\n                  })}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <Button \r\n              variant=\"tech\" \r\n              onClick={startTrainingRound}\r\n              disabled={clients.length === 0}\r\n              className=\"w-full flex items-center space-x-2\"\r\n            >\r\n              <Play className=\"w-4 h-4\" />\r\n              <span>启动训练轮次</span>\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* 训练历史 */}\r\n      <Card className=\"glass-effect\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center space-x-2\">\r\n            <BarChart3 className=\"w-5 h-5 text-tech-primary\" />\r\n            <span>训练历史</span>\r\n          </CardTitle>\r\n          <CardDescription>联邦学习训练轮次记录</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {rounds.slice().reverse().map((round, index) => (\r\n              <div key={`${round.round_id}_${index}`} className=\"flex items-center justify-between p-3 bg-tech-dark/30 rounded-lg\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className={`w-3 h-3 rounded-full ${\r\n                    round.status === 'completed' ? 'bg-green-400' : \r\n                    round.status === 'active' ? 'bg-yellow-400' : 'bg-gray-400'\r\n                  }`}></div>\r\n                  <div>\r\n                    <div className=\"font-medium text-white\">{round.round_id}</div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      开始时间: {new Date(round.start_time).toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <span className=\"text-sm text-gray-400\">\r\n                    {round.participants_count || (round.participants && round.participants.length) || 0} 客户端参与\r\n                  </span>\r\n                  {round.status === 'active' && (\r\n                    <Button \r\n                      size=\"sm\" \r\n                      variant=\"outline\"\r\n                      onClick={() => aggregateRound(round.round_id)}\r\n                    >\r\n                      聚合\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* 隐私保护配置 */}\r\n      {privacyStatus && (\r\n        <Card className=\"glass-effect\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center space-x-2\">\r\n              <Shield className=\"w-5 h-5 text-purple-400\" />\r\n              <span>差分隐私保护</span>\r\n            </CardTitle>\r\n            <CardDescription>配置隐私保护参数，平衡隐私和模型性能</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm text-gray-400\">隐私预算 (ε)</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"0.1\"\r\n                  max=\"10.0\"\r\n                  step=\"0.1\"\r\n                  value={privacyStatus.epsilon}\r\n                  onChange={(e) => updatePrivacyConfig({\r\n                    epsilon: parseFloat(e.target.value)\r\n                  })}\r\n                />\r\n                <div className=\"text-xs text-gray-400\">值越小，隐私保护越强</div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm text-gray-400\">失败概率 (δ)</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"1e-6\"\r\n                  max=\"1e-3\"\r\n                  step=\"1e-6\"\r\n                  value={privacyStatus.delta}\r\n                  onChange={(e) => updatePrivacyConfig({\r\n                    delta: parseFloat(e.target.value)\r\n                  })}\r\n                />\r\n                <div className=\"text-xs text-gray-400\">通常设置为很小的值</div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm text-gray-400\">隐私保护</label>\r\n                <Button\r\n                  variant={privacyStatus.enabled ? \"tech\" : \"outline\"}\r\n                  onClick={() => updatePrivacyConfig({\r\n                    enabled: !privacyStatus.enabled\r\n                  })}\r\n                  className=\"w-full\"\r\n                >\r\n                  {privacyStatus.enabled ? '已启用' : '已禁用'}\r\n                </Button>\r\n                <div className=\"text-xs text-gray-400\">\r\n                  已消耗隐私: {privacyStatus.privacy_spent?.epsilon_spent?.toFixed(3) || '0.000'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":["FederatedLearning","clients","setClients","useState","rounds","setRounds","privacyStatus","setPrivacyStatus","serverStatus","setServerStatus","loading","setLoading","newClientId","setNewClientId","roundConfig","setRoundConfig","fetchFederatedData","clientsRes","roundsRes","privacyRes","statusRes","apiClient","error","useEffect","registerClient","startTrainingRound","aggregateRound","roundId","updatePrivacyConfig","config","stats","Users","TrendingUp","Shield","Cpu","_a","jsxs","jsx","Button","RefreshCw","Settings","stat","index","Icon","Card","CardHeader","CardTitle","CardContent","CardDescription","Input","e","Plus","client","Play","BarChart3","round","_c","_b"],"mappings":"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"}