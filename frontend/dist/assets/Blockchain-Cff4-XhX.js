import{c as v,r as l,d as j,j as e,D as H,S as u,L as D,f as r}from"./index-yVhfAtPc.js";import{C as i,a as n,b as d,d as x,c as o}from"./card-fvSyAV1p.js";import{I as L}from"./input-BRuGLdy_.js";import{U as R}from"./users-DqIhfcId.js";import{C as F}from"./clock-A5PGEByJ.js";import{C as y}from"./check-circle-CjWdKTnx.js";import{C as E}from"./check-Crv3IgNb.js";import{R as U}from"./refresh-cw-a_RgfZ6I.js";import{T as z}from"./trending-up-BWoRqqDA.js";const p=v("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),V=v("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Q(){const[h,b]=l.useState(null),[m,g]=l.useState(!0),[t,w]=l.useState(""),[c,k]=l.useState(null),[N,C]=l.useState([]),S=[{label:"总区块数",value:"1,247",change:"+23 24h",icon:H},{label:"活跃节点",value:"42",change:"+3 24h",icon:R},{label:"交易总量",value:"5,892",change:"+128 24h",icon:p},{label:"网络延迟",value:"245ms",change:"-12ms 24h",icon:F}],I=[{hash:"0x1a2b3c...",type:"模型验证",status:"已确认",time:"5分钟前"},{hash:"0x4d5e6f...",type:"数据上传",status:"已确认",time:"15分钟前"},{hash:"0x7g8h9i...",type:"训练任务",status:"处理中",time:"30分钟前"}],M=[{name:"模型验证合约",address:"0xabc123...",status:"活跃",calls:"1,234"},{name:"数据溯源合约",address:"0xdef456...",status:"活跃",calls:"892"},{name:"权限管理合约",address:"0xghi789...",status:"维护中",calls:"567"}];l.useEffect(()=>{f()},[]);const f=async()=>{try{g(!0);const s=await j.getBlockchainStatus();s.success&&b(s.data||null)}catch(s){console.error("获取区块链状态失败:",s)}finally{g(!1)}},T=async()=>{if(t.trim())try{const s=await j.verifyModelIntegrity(t,"test_hash");k(s)}catch(s){console.error("验证模型完整性失败:",s)}},$=async()=>{var s;if(t.trim())try{const a=await j.getModelHistory(t);a.success&&C(((s=a.data)==null?void 0:s.history)||[])}catch(a){console.error("获取模型历史失败:",a)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"区块链集成"}),e.jsx("p",{className:"text-gray-300",children:"基于Hyperledger Fabric的AI模型版本控制和数据溯源系统"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map((s,a)=>{const B=s.icon;return e.jsxs(i,{className:"glass-effect hover:neon-glow transition-all duration-300",children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium text-gray-400",children:s.label}),e.jsx(B,{className:"w-4 h-4 text-tech-primary"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.value}),e.jsx("p",{className:"text-xs text-green-400",children:s.change})]})]},a)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{className:"glass-effect",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"w-5 h-5 text-tech-primary"}),e.jsx("span",{children:"最近交易"})]}),e.jsx(o,{children:"区块链上的最新交易记录"})]}),e.jsx(x,{className:"space-y-4",children:I.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-tech-dark/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.status==="已确认"?"bg-green-500":"bg-yellow-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white text-sm",children:s.type}),e.jsx("div",{className:"text-xs text-gray-400",children:s.hash})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-xs font-medium ${s.status==="已确认"?"text-green-400":"text-yellow-400"}`,children:s.status}),e.jsx("div",{className:"text-xs text-gray-400",children:s.time})]})]},a))})]}),e.jsxs(i,{className:"glass-effect",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-5 h-5 text-tech-primary"}),e.jsx("span",{children:"智能合约"})]}),e.jsx(o,{children:"部署在区块链上的智能合约"})]}),e.jsx(x,{className:"space-y-4",children:M.map((s,a)=>e.jsxs("div",{className:"p-3 bg-tech-dark/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium text-white",children:s.name}),e.jsx("div",{className:`text-xs px-2 py-1 rounded ${s.status==="活跃"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:s.status})]}),e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:s.address}),e.jsxs("div",{className:"text-xs text-gray-500",children:["调用次数: ",s.calls]})]},a))})]})]}),e.jsxs(i,{className:"glass-effect",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-tech-primary"}),e.jsx("span",{children:"网络状态"})]}),e.jsx(o,{children:"区块链节点和共识机制状态"})]}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"共识算法"}),e.jsx("span",{className:"text-white",children:"PBFT"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"区块大小"}),e.jsx("span",{className:"text-white",children:"2MB"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"出块间隔"}),e.jsx("span",{className:"text-white",children:"2秒"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"网络延迟"}),e.jsx("span",{className:"text-green-400",children:"低"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"数据同步"}),e.jsx("span",{className:"text-green-400",children:"完成"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"安全性"}),e.jsx("span",{className:"text-green-400",children:"高"})]})]})]})})]}),e.jsxs(i,{className:"glass-effect",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-5 h-5 text-tech-primary"}),e.jsx("span",{children:"模型验证与查询"})]}),e.jsx(o,{children:"验证模型完整性和查询区块链记录"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(L,{placeholder:"输入模型ID",value:t,onChange:s=>w(s.target.value),className:"flex-1"}),e.jsxs(r,{variant:"tech",onClick:T,disabled:!t.trim()||m,className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"验证完整性"})]}),e.jsxs(r,{variant:"outline",onClick:$,disabled:!t.trim()||m,className:"flex items-center space-x-2",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:"查询历史"})]})]}),c&&e.jsx("div",{className:`p-3 rounded-lg ${c.success?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.success?e.jsx(E,{className:"w-4 h-4 text-green-400"}):e.jsx(V,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:c.success?"text-green-400":"text-red-400",children:c.success?"模型完整性验证通过":`验证失败: ${c.error}`})]})}),N.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-white",children:"交易历史"}),N.map((s,a)=>e.jsx("div",{className:"p-2 bg-tech-dark/30 rounded text-sm",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-300",children:["交易ID: ",s.transaction_id]}),e.jsx("span",{className:"text-gray-400",children:s.timestamp})]})},a))]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(r,{variant:"tech",onClick:f,disabled:m,className:"flex items-center space-x-2",children:[e.jsx(U,{className:`w-4 h-4 ${m?"animate-spin":""}`}),e.jsx("span",{children:"刷新状态"})]}),e.jsxs(r,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"查看统计"})]}),e.jsxs(r,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"安全设置"})]})]}),h&&e.jsx("div",{className:`fixed top-4 right-4 px-3 py-1 rounded-full text-xs font-medium ${h.status==="healthy"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h.status==="healthy"?"bg-green-400":"bg-red-400"}`}),e.jsxs("span",{children:["区块链: ",h.status==="healthy"?"运行中":"异常"]})]})})]})}export{Q as Blockchain};
//# sourceMappingURL=Blockchain-Cff4-XhX.js.map
