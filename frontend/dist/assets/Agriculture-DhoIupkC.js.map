{"version":3,"file":"Agriculture-DhoIupkC.js","sources":["../../src/pages/Agriculture.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../components/ui/card';\r\nimport { Button } from '../components/ui/button';\r\nimport { Input } from '../components/ui/input';\r\nimport { apiClient } from '../services/api';\r\n\r\n\r\ninterface CropConfig {\r\n  crop_name: string;\r\n  growth_stages: Array<{\r\n    stage_name: string;\r\n    duration_days: number;\r\n    optimal_temperature: [number, number];\r\n    optimal_humidity: [number, number];\r\n    light_hours: number;\r\n  }>;\r\n  target_yield: string;\r\n  quality_metrics: Record<string, number>;\r\n}\r\n\r\ninterface LightRecipe {\r\n  uv_380nm: number;\r\n  far_red_720nm: number;\r\n  white_light: number;\r\n  red_660nm: number;\r\n  white_red_ratio: number;\r\n}\r\n\r\ninterface GrowthPrediction {\r\n  growth_rate: number;\r\n  health_score: number;\r\n  yield_potential: number;\r\n}\r\n\r\nconst AgriculturePage: React.FC = () => {\r\n  const [cropConfigs, setCropConfigs] = useState<Record<string, CropConfig>>({});\r\n  const [selectedCrop, setSelectedCrop] = useState('番茄');\r\n  const [currentDay, setCurrentDay] = useState(1);\r\n  const [targetObjective, setTargetObjective] = useState('最大化产量');\r\n  const [environment, setEnvironment] = useState({\r\n    temperature: 25,\r\n    humidity: 60,\r\n    co2: 400\r\n  });\r\n  const [lightRecipe, setLightRecipe] = useState<LightRecipe | null>(null);\r\n  const [growthPrediction, setGrowthPrediction] = useState<GrowthPrediction | null>(null);\r\n  const [plantingPlan, setPlantingPlan] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    loadCropConfigs();\r\n  }, []);\r\n\r\n  const [loadingCrops, setLoadingCrops] = useState(false);\r\n  const [cropError, setCropError] = useState<string | null>(null);\r\n\r\n  const loadCropConfigs = async () => {\r\n    setLoadingCrops(true);\r\n    setCropError(null);\r\n    try {\r\n      const response = await apiClient.getCropConfigs();\r\n      if (response.success && Object.keys(response.data).length > 0) {\r\n        setCropConfigs(response.data);\r\n      } else {\r\n        // 使用默认作物配置\r\n        const defaultCrops: Record<string, CropConfig> = {\r\n          '番茄': {\r\n            crop_name: '番茄',\r\n            growth_stages: [\r\n              { stage_name: '发芽期', duration_days: 7, optimal_temperature: [20, 25], optimal_humidity: [70, 80], light_hours: 12 },\r\n              { stage_name: '幼苗期', duration_days: 21, optimal_temperature: [18, 22], optimal_humidity: [60, 70], light_hours: 14 },\r\n              { stage_name: '生长期', duration_days: 28, optimal_temperature: [20, 25], optimal_humidity: [65, 75], light_hours: 16 },\r\n              { stage_name: '结果期', duration_days: 35, optimal_temperature: [22, 28], optimal_humidity: [70, 80], light_hours: 18 }\r\n            ],\r\n            target_yield: '5kg/m²',\r\n            quality_metrics: { '甜度': 8.5, '硬度': 7.2, '色泽': 9.0 }\r\n          },\r\n          '黄瓜': {\r\n            crop_name: '黄瓜',\r\n            growth_stages: [\r\n              { stage_name: '发芽期', duration_days: 5, optimal_temperature: [25, 30], optimal_humidity: [75, 85], light_hours: 12 },\r\n              { stage_name: '幼苗期', duration_days: 15, optimal_temperature: [20, 25], optimal_humidity: [65, 75], light_hours: 14 },\r\n              { stage_name: '生长期', duration_days: 20, optimal_temperature: [25, 30], optimal_humidity: [70, 80], light_hours: 16 },\r\n              { stage_name: '结果期', duration_days: 30, optimal_temperature: [25, 32], optimal_humidity: [75, 85], light_hours: 18 }\r\n            ],\r\n            target_yield: '8kg/m²',\r\n            quality_metrics: { '长度': 15, '直径': 3, '色泽': 8.5 }\r\n          }\r\n        };\r\n        setCropConfigs(defaultCrops);\r\n        setCropError('使用默认作物数据');\r\n      }\r\n    } catch (error) {\r\n      console.error('加载作物配置失败:', error);\r\n      // 使用默认作物配置\r\n      const defaultCrops: Record<string, CropConfig> = {\r\n        '番茄': {\r\n          crop_name: '番茄',\r\n          growth_stages: [\r\n            { stage_name: '发芽期', duration_days: 7, optimal_temperature: [20, 25], optimal_humidity: [70, 80], light_hours: 12 },\r\n            { stage_name: '幼苗期', duration_days: 21, optimal_temperature: [18, 22], optimal_humidity: [60, 70], light_hours: 14 },\r\n            { stage_name: '生长期', duration_days: 28, optimal_temperature: [20, 25], optimal_humidity: [65, 75], light_hours: 16 },\r\n            { stage_name: '结果期', duration_days: 35, optimal_temperature: [22, 28], optimal_humidity: [70, 80], light_hours: 18 }\r\n          ],\r\n          target_yield: '5kg/m²',\r\n          quality_metrics: { '甜度': 8.5, '硬度': 7.2, '色泽': 9.0 }\r\n        },\r\n        '黄瓜': {\r\n          crop_name: '黄瓜',\r\n          growth_stages: [\r\n            { stage_name: '发芽期', duration_days: 5, optimal_temperature: [25, 30], optimal_humidity: [75, 85], light_hours: 12 },\r\n            { stage_name: '幼苗期', duration_days: 15, optimal_temperature: [20, 25], optimal_humidity: [65, 75], light_hours: 14 },\r\n            { stage_name: '生长期', duration_days: 20, optimal_temperature: [25, 30], optimal_humidity: [70, 80], light_hours: 16 },\r\n            { stage_name: '结果期', duration_days: 30, optimal_temperature: [25, 32], optimal_humidity: [75, 85], light_hours: 18 }\r\n          ],\r\n          target_yield: '8kg/m²',\r\n          quality_metrics: { '长度': 15, '直径': 3, '色泽': 8.5 }\r\n        }\r\n      };\r\n      setCropConfigs(defaultCrops);\r\n      setCropError('加载失败，使用默认作物数据');\r\n    } finally {\r\n      setLoadingCrops(false);\r\n    }\r\n  };\r\n\r\n  const generateLightRecipe = async () => {\r\n    try {\r\n      const response = await apiClient.generateLightRecipe({\r\n        crop_type: selectedCrop,\r\n        current_day: currentDay,\r\n        target_objective: targetObjective,\r\n        environment: environment\r\n      });\r\n      \r\n      if (response.success) {\r\n        setLightRecipe(response.data.recipe);\r\n      }\r\n    } catch (error) {\r\n      console.error('生成光配方失败:', error);\r\n    }\r\n  };\r\n\r\n  const predictGrowth = async () => {\r\n    try {\r\n      // 模拟光谱数据\r\n      const spectrumData = Array.from({length: 800}, (_, i) => \r\n        Math.random() * 0.1 + Math.exp(-Math.pow(i - 380, 2) / 1000) * 0.5\r\n      );\r\n\r\n      const response = await apiClient.predictGrowth({\r\n        crop_type: selectedCrop,\r\n        current_day: currentDay,\r\n        environmental_data: environment,\r\n        spectrum_data: spectrumData\r\n      });\r\n      \r\n      if (response.success) {\r\n        setGrowthPrediction(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('预测生长状态失败:', error);\r\n    }\r\n  };\r\n\r\n  const createPlantingPlan = async () => {\r\n    try {\r\n      const response = await apiClient.createPlantingPlan({\r\n        crop_type: selectedCrop,\r\n        target_yield: targetObjective,\r\n        start_date: new Date().toISOString().split('T')[0],\r\n        expected_harvest_date: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\r\n      });\r\n      \r\n      if (response.success) {\r\n        setPlantingPlan(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('创建种植计划失败:', error);\r\n    }\r\n  };\r\n\r\n  const contributeData = async () => {\r\n    try {\r\n      const response = await apiClient.contributeAgricultureData({\r\n        user_id: 'user_001',\r\n        crop_type: selectedCrop,\r\n        growth_data: {\r\n          day: currentDay,\r\n          environment: environment,\r\n          recipe: lightRecipe\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        alert(`数据贡献成功！获得 ${response.data.photon_points_earned} 光子积分`);\r\n      }\r\n    } catch (error) {\r\n      console.error('数据贡献失败:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6 space-y-6\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* 左侧：作物选择和种植规划 */}\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>作物选择与规划</CardTitle>\r\n              <CardDescription>选择作物类型并制定种植计划</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-card-foreground\">选择作物</label>\r\n                <select \r\n                  className=\"w-full p-2 border rounded bg-black text-white\"\r\n                  value={selectedCrop}\r\n                  onChange={(e) => setSelectedCrop(e.target.value)}\r\n                >\r\n                  {Object.keys(cropConfigs).map(crop => (\r\n                    <option key={crop} value={crop}>{crop}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-card-foreground\">生长天数</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={currentDay}\r\n                  onChange={(e) => setCurrentDay(parseInt(e.target.value))}\r\n                  min=\"1\"\r\n                  max=\"365\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-card-foreground\">种植目标</label>\r\n                <select \r\n                  className=\"w-full p-2 border rounded bg-black text-white\"\r\n                  value={targetObjective}\r\n                  onChange={(e) => setTargetObjective(e.target.value)}\r\n                >\r\n                  <option value=\"最大化产量\">最大化产量</option>\r\n                  <option value=\"提升甜度\">提升甜度</option>\r\n                  <option value=\"提升抗性\">提升抗性</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <Button onClick={createPlantingPlan} className=\"w-full\">\r\n                制定种植计划\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* 环境参数设置 */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>环境参数</CardTitle>\r\n              <CardDescription>设置当前环境条件</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-card-foreground\">温度 (°C)</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={environment.temperature}\r\n                  onChange={(e) => setEnvironment({...environment, temperature: parseFloat(e.target.value)})}\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-card-foreground\">湿度 (%)</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={environment.humidity}\r\n                  onChange={(e) => setEnvironment({...environment, humidity: parseFloat(e.target.value)})}\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-2 text-card-foreground\">CO2浓度 (ppm)</label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={environment.co2}\r\n                  onChange={(e) => setEnvironment({...environment, co2: parseFloat(e.target.value)})}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* 中间：光配方和生长预测 */}\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>光配方系统</CardTitle>\r\n              <CardDescription>AI生成最优光配方</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <Button onClick={generateLightRecipe} className=\"w-full\">\r\n                生成光配方\r\n              </Button>\r\n              \r\n              {lightRecipe && (\r\n                <div className=\"space-y-2\">\r\n                  <h4 className=\"font-semibold\">光配方详情：</h4>\r\n                  <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                    <div>380nm紫外线: {(lightRecipe.uv_380nm * 100).toFixed(1)}%</div>\r\n                    <div>720nm远红外: {(lightRecipe.far_red_720nm * 100).toFixed(1)}%</div>\r\n                    <div>白光: {(lightRecipe.white_light * 100).toFixed(1)}%</div>\r\n                    <div>660nm红光: {(lightRecipe.red_660nm * 100).toFixed(1)}%</div>\r\n                    <div className=\"col-span-2\">白红配比: {lightRecipe.white_red_ratio.toFixed(1)}:1</div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>生长预测</CardTitle>\r\n              <CardDescription>AI预测植物生长状态</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <Button onClick={predictGrowth} className=\"w-full\">\r\n                预测生长状态\r\n              </Button>\r\n              \r\n              {growthPrediction && (\r\n                <div className=\"space-y-2\">\r\n                  <h4 className=\"font-semibold\">生长状态预测：</h4>\r\n                  <div className=\"grid grid-cols-3 gap-2 text-sm\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-2xl font-bold text-green-600\">\r\n                        {(growthPrediction.growth_rate * 100).toFixed(0)}%\r\n                      </div>\r\n                      <div>生长率</div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-2xl font-bold text-blue-600\">\r\n                        {(growthPrediction.health_score * 100).toFixed(0)}%\r\n                      </div>\r\n                      <div>健康度</div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-2xl font-bold text-orange-600\">\r\n                        {(growthPrediction.yield_potential * 100).toFixed(0)}%\r\n                      </div>\r\n                      <div>产量潜力</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>数据贡献</CardTitle>\r\n              <CardDescription>贡献数据获得光子积分</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <Button onClick={contributeData} className=\"w-full\" variant=\"outline\">\r\n                贡献当前数据\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* 右侧：种植计划和生长阶段 */}\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>种植计划</CardTitle>\r\n              <CardDescription>详细的种植时间表</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {plantingPlan ? (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>作物类型:</span>\r\n                    <span className=\"font-semibold\">{plantingPlan.crop_type}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>总天数:</span>\r\n                    <span className=\"font-semibold\">{plantingPlan.total_days}天</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>目标产量:</span>\r\n                    <span className=\"font-semibold\">{plantingPlan.target_yield}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"mt-4\">\r\n                    <h4 className=\"font-semibold mb-2\">生长阶段计划：</h4>\r\n                    <div className=\"space-y-2\">\r\n                      {(plantingPlan.planting_plan || []).map((stage: any, index: number) => (\r\n                        <div key={index} className=\"p-2 border rounded\">\r\n                          <div className=\"font-medium\">{stage.stage}</div>\r\n                          <div className=\"text-sm text-gray-600\">\r\n                            第{stage.start_day}-{stage.end_day}天 | \r\n                            光照: {stage.light_hours}小时 | \r\n                            温度: {stage.temperature_range[0]}-{stage.temperature_range[1]}°C\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-gray-500 text-center\">请先制定种植计划</p>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* 当前生长阶段信息 */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>当前生长阶段</CardTitle>\r\n              <CardDescription>基于选择的作物和生长天数</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {selectedCrop && cropConfigs[selectedCrop] && (\r\n                <div className=\"space-y-2\">\r\n                  {(cropConfigs[selectedCrop].growth_stages || []).map((stage, index) => {\r\n                    const accumulatedDays = cropConfigs[selectedCrop].growth_stages\r\n                      .slice(0, index)\r\n                      .reduce((sum, s) => sum + s.duration_days, 0);\r\n                    \r\n                    const isCurrent = currentDay > accumulatedDays && \r\n                      currentDay <= accumulatedDays + stage.duration_days;\r\n                    \r\n                    return (\r\n                      <div key={index} className={`p-2 border rounded ${isCurrent ? 'bg-black border-gray-700' : ''}`}>\r\n                        <div className=\"flex justify-between\">\r\n                          <span className={`font-medium ${isCurrent ? 'text-white' : ''}`}>\r\n                            {stage.stage_name}\r\n                            {isCurrent && <span className=\"ml-2 text-xs bg-gray-700 text-white px-2 py-1 rounded\">当前</span>}\r\n                          </span>\r\n                          <span className=\"text-sm text-gray-300\">\r\n                            第{accumulatedDays + 1}-{accumulatedDays + stage.duration_days}天\r\n                          </span>\r\n                        </div>\r\n                        {isCurrent && (\r\n                          <div className=\"mt-1 text-sm text-gray-300\">\r\n                            光照: {stage.light_hours}小时 | \r\n                            温度: {stage.optimal_temperature[0]}-{stage.optimal_temperature[1]}°C | \r\n                            湿度: {stage.optimal_humidity[0]}%-{stage.optimal_humidity[1]}%\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AgriculturePage;"],"names":["AgriculturePage","cropConfigs","setCropConfigs","useState","selectedCrop","setSelectedCrop","currentDay","setCurrentDay","targetObjective","setTargetObjective","environment","setEnvironment","lightRecipe","setLightRecipe","growthPrediction","setGrowthPrediction","plantingPlan","setPlantingPlan","useEffect","loadCropConfigs","loadingCrops","setLoadingCrops","cropError","setCropError","response","apiClient","error","generateLightRecipe","predictGrowth","spectrumData","_","i","createPlantingPlan","contributeData","jsxs","Card","CardHeader","jsx","CardTitle","CardDescription","CardContent","e","crop","Input","Button","stage","index","accumulatedDays","sum","s","isCurrent"],"mappings":"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"}